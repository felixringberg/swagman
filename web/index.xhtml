<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <c:choose>
            <c:when test="#{applicantManager.currentApplicant != null}">
                <meta http-equiv="refresh" content="0;url=applicant_home.xhtml"/>
            </c:when>
            <c:when test="#{recruiterManager.currentRecruiter != null}">
                <meta http-equiv="refresh" content="0;url=recruiter_home.xhtml"/>
            </c:when>
        </c:choose>
        
        <title>KTH Application Service Index</title>

        <link href="standardlayout.css" rel="stylesheet" type="text/css"/>
    </h:head>
    <h:body>
        <ui:insert name="header">
            <ui:include src="/header.xhtml"/>
        </ui:insert>
        <div id="contentbox">
            <div id="innercontent">
                <p/>
                <h2 class="headline1">Login as Recruiter:</h2>
                <p/>
                #{recruiterManager.exceptionLogin.message}
                <h:form id="loginFormR" class="loginform">
                    <h:outputLabel for="loginuser" value="Username: " class="labelfont"/>
                    <br/>
                    <h:inputText id="loginuserR" value="#{recruiterManager.LUsername}"/>
                    <br/><br/>
                    <h:outputLabel for="loginpass" value="Password: "/>
                    <br/>
                    <h:inputSecret id="loginpassR" value="#{recruiterManager.LPassword}"/>
                    <br/><br/>
                    <h:commandButton value="Login as Recruiter" onclick="return validateLoginFormRInput();" action="#{recruiterManager.login}">
                        <f:actionListener binding ="#{applicantManager.exceptionLogin = null}"/>
                        <f:actionListener binding ="#{applicantManager.exceptionRegister = null}"/>
                    </h:commandButton>
                </h:form>
                <p/>
                <h2 class="headline1">Login as Applicant:</h2>
                <p/>
                #{applicantManager.exceptionLogin.message}
                <h:form id="loginFormA" class="loginform">
                    <h:outputLabel for="loginuser" value="Username: " class="labelfont"/>
                    <br/>
                    <h:inputText id="loginuserA" value="#{applicantManager.LUsername}"/>
                    <br/><br/>
                    <h:outputLabel for="loginpass" value="Password: "/>
                    <br/>
                    <h:inputSecret id="loginpassA" value="#{applicantManager.LPassword}"/>
                    <br/><br/>
                    <h:commandButton value="Login as Applicant" onclick="return validateLoginFormAInput();" action="#{applicantManager.login}">
                        <f:actionListener binding ="#{recruiterManager.exceptionLogin = null}"/>
                        <f:actionListener binding ="#{applicantManager.exceptionRegister = null}"/>
                    </h:commandButton>
                </h:form>
                <p/>
            </div>
            <div id="innercontent">
                <h2 class="headline1">Account Creation:</h2>
                <p/>
                #{applicantManager.exceptionRegister.message}
                <h:form id="registrationForm" class="creationform">
                    <h:outputLabel for="firstname" value="First Name: "/>
                    <br/>
                    <h:inputText id="firstname" value="#{applicantManager.RFirstname}"/>
                    <br/><br/>
                    <h:outputLabel for="lastname" value="Last Name: "/> 
                    <br/>
                    <h:inputText id="lastname" value="#{applicantManager.RLastname}"/>
                    <br/><br/>
                    <h:outputLabel for="dateofbirth" value="Date of Birth: "/> 
                    <br/>
                    <h:inputText id="dateofbirth" value="#{applicantManager.RDateofbirth}"/>
                    <br/><br/>
                    <h:outputLabel for="email" value="Email: "/> 
                    <br/>
                    <h:inputText id="email" value="#{applicantManager.REmail}"/>
                    <br/><br/>
                    <h:outputLabel id="usernameLabel" for="username" value="Username: "></h:outputLabel> 
                    <br/>
                    <h:inputText id="username" value="#{applicantManager.RUsername}"/>
                    <br/><br/>
                    <h:outputLabel for="password" value="Password: "/> 
                    <br/>
                    <h:inputSecret id="password" value="#{applicantManager.RPassword}"/>
                    <br/><br/>
                    <h:commandButton value="Register" onclick="return validateApplicantFormInput();" action="#{applicantManager.createApplicant}">
                        <f:actionListener binding ="#{recruiterManager.exceptionLogin = null}"/>
                        <f:actionListener binding ="#{applicantManager.exceptionLogin = null}"/>
                    </h:commandButton>
                </h:form>
            </div>
        </div>
        <h:outputScript library="js" name="index.js"/>
    </h:body>
    <ui:insert name="footer">
            <ui:include src="/footer.xhtml"/>
    </ui:insert>
</html>
